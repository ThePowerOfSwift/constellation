<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.6.3">
  <compounddef id="_v_r_view_controller_8m" kind="file">
    <compoundname>VRViewController.m</compoundname>
    <includes refid="_v_r_view_controller_8h" local="yes">VRViewController.h</includes>
    <includes refid="_e_a_g_l_view_8h" local="yes">EAGLView.h</includes>
    <includes refid="_object3_d_8h" local="yes">Object3D.h</includes>
    <incdepgraph>
      <node id="121">
        <label>Object3DParametersViewController.h</label>
        <link refid="_object3_d_parameters_view_controller_8h_source"/>
        <childnode refid="113" relation="include">
        </childnode>
        <childnode refid="122" relation="include">
        </childnode>
      </node>
      <node id="125">
        <label>OpenGLES/ES1/gl.h</label>
      </node>
      <node id="116">
        <label>CoreVideo/CoreVideo.h</label>
      </node>
      <node id="124">
        <label>OpenGLES/EAGL.h</label>
      </node>
      <node id="113">
        <label>UIKit/UIKit.h</label>
      </node>
      <node id="112">
        <label>VRViewController.h</label>
        <link refid="_v_r_view_controller_8h_source"/>
        <childnode refid="113" relation="include">
        </childnode>
        <childnode refid="114" relation="include">
        </childnode>
        <childnode refid="115" relation="include">
        </childnode>
        <childnode refid="116" relation="include">
        </childnode>
        <childnode refid="117" relation="include">
        </childnode>
        <childnode refid="118" relation="include">
        </childnode>
        <childnode refid="119" relation="include">
        </childnode>
        <childnode refid="121" relation="include">
        </childnode>
      </node>
      <node id="111">
        <label>Classes/VRViewController.m</label>
        <link refid="VRViewController.m"/>
        <childnode refid="112" relation="include">
        </childnode>
        <childnode refid="123" relation="include">
        </childnode>
        <childnode refid="127" relation="include">
        </childnode>
      </node>
      <node id="128">
        <label>Parser3DProtocol.h</label>
        <link refid="_parser3_d_protocol_8h_source"/>
        <childnode refid="125" relation="include">
        </childnode>
      </node>
      <node id="126">
        <label>OpenGLES/ES1/glext.h</label>
      </node>
      <node id="117">
        <label>CoreMedia/CoreMedia.h</label>
      </node>
      <node id="119">
        <label>ARToolKitPlusWrapper.h</label>
        <link refid="_a_r_tool_kit_plus_wrapper_8h_source"/>
        <childnode refid="120" relation="include">
        </childnode>
        <childnode refid="116" relation="include">
        </childnode>
      </node>
      <node id="115">
        <label>CoreGraphics/CoreGraphics.h</label>
      </node>
      <node id="127">
        <label>Object3D.h</label>
        <link refid="_object3_d_8h_source"/>
        <childnode refid="120" relation="include">
        </childnode>
        <childnode refid="125" relation="include">
        </childnode>
        <childnode refid="128" relation="include">
        </childnode>
      </node>
      <node id="114">
        <label>AVFoundation/AVFoundation.h</label>
      </node>
      <node id="122">
        <label>MessageUI/MessageUI.h</label>
      </node>
      <node id="120">
        <label>Foundation/Foundation.h</label>
      </node>
      <node id="123">
        <label>EAGLView.h</label>
        <link refid="_e_a_g_l_view_8h_source"/>
        <childnode refid="113" relation="include">
        </childnode>
        <childnode refid="118" relation="include">
        </childnode>
        <childnode refid="124" relation="include">
        </childnode>
        <childnode refid="125" relation="include">
        </childnode>
        <childnode refid="126" relation="include">
        </childnode>
      </node>
      <node id="118">
        <label>QuartzCore/QuartzCore.h</label>
      </node>
    </incdepgraph>
    <innerclass refid="interface_v_r_view_controller_07_08" prot="public">VRViewController()</innerclass>
      <sectiondef kind="define">
      <memberdef kind="define" id="_v_r_view_controller_8m_1a2505250fa75aa9f32517d0099d3a0361" prot="public" static="no">
        <name>ADMIN_MODE</name>
        <initializer>TRUE</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/Benjamin/Travail/GFI/VRToolKit/XcodeProject/Classes/VRViewController.m" line="18" bodyfile="/Users/Benjamin/Travail/GFI/VRToolKit/XcodeProject/Classes/VRViewController.m" bodystart="18" bodyend="-1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>Copyright<sp/>Benjamin<sp/>Loulier<sp/>2010,<sp/>http://www.benjaminloulier.com</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/></highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>This<sp/>program<sp/>is<sp/>free<sp/>software:<sp/>you<sp/>can<sp/>redistribute<sp/>it<sp/>and/or<sp/>modify</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>it<sp/>under<sp/>the<sp/>terms<sp/>of<sp/>the<sp/>GNU<sp/>General<sp/>Public<sp/>License<sp/>as<sp/>published<sp/>by</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>the<sp/>Free<sp/>Software<sp/>Foundation,<sp/>either<sp/>version<sp/>3<sp/>of<sp/>the<sp/>License,<sp/>or</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>(at<sp/>your<sp/>option)<sp/>any<sp/>later<sp/>version.</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/></highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>This<sp/>program<sp/>is<sp/>distributed<sp/>in<sp/>the<sp/>hope<sp/>that<sp/>it<sp/>will<sp/>be<sp/>useful,</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>but<sp/>WITHOUT<sp/>ANY<sp/>WARRANTY;<sp/>without<sp/>even<sp/>the<sp/>implied<sp/>warranty<sp/>of</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>MERCHANTABILITY<sp/>or<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE.<sp/><sp/>See<sp/>the</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/>GNU<sp/>General<sp/>Public<sp/>License<sp/>for<sp/>more<sp/>details.</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/></highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>You<sp/>should<sp/>have<sp/>received<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>GNU<sp/>General<sp/>Public<sp/>License</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>along<sp/>with<sp/>this<sp/>program.<sp/><sp/>If<sp/>not,<sp/>see<sp/>&lt;http://www.gnu.org/licenses/&gt;.</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ADMIN_MODE<sp/>TRUE</highlight></codeline>
<codeline lineno="19"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;VRViewController.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;EAGLView.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#import<sp/>&quot;Object3D.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="keyword">@interface<sp/></highlight><highlight class="normal"><ref refid="interface_v_r_view_controller" kindref="compound" tooltip="This class is the core of the Application.">VRViewController</ref><sp/>()</highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal">@property<sp/>(nonatomic,<sp/>retain)<sp/><ref refid="interface_a_r_tool_kit_plus_wrapper" kindref="compound" tooltip="This class is an objective-c wrapper for ARToolKitPlus.">ARToolKitPlusWrapper</ref><sp/>*<ref refid="interface_v_r_view_controller_1ab6ad8d70a4d463d995c4989f548072a4" kindref="member" tooltip="The ARToolKitPlusWrapper instance the controller pass on video frames for marler...">wrapper</ref>;</highlight></codeline>
<codeline lineno="38"><highlight class="normal">@property<sp/>(nonatomic,<sp/>retain)<sp/><ref refid="interface_object3_d_parameters_view_controller" kindref="compound" tooltip="This class is the view controller for the parametersView.">Object3DParametersViewController</ref><sp/>*<ref refid="interface_v_r_view_controller_1a37e3cebc3581c8e3ab7d427359fea210" kindref="member" tooltip="The controller responsible of the parameters view.">parametersViewController</ref>;</highlight></codeline>
<codeline lineno="42"><highlight class="normal">@property<sp/>(nonatomic,<sp/>retain)<sp/>AVCaptureSession<sp/>*<ref refid="interface_v_r_view_controller_1a915ef7e56455be72582b462f6d044482" kindref="member" tooltip="The capture session we use to capture video frames.">captureSession</ref>;</highlight></codeline>
<codeline lineno="46"><highlight class="normal">@property<sp/>(nonatomic,<sp/>retain)<sp/>AVCaptureVideoPreviewLayer<sp/>*<ref refid="interface_v_r_view_controller_1a6cc37a0c376a70c9cac71e8262954ff9" kindref="member" tooltip="The layer displaying the frames from the camera.">previewLayer</ref>;</highlight></codeline>
<codeline lineno="50"><highlight class="normal">@property<sp/>(nonatomic,<sp/>assign)<sp/>BOOL<sp/><ref refid="interface_v_r_view_controller_1a34f830b1267d4174aec7150d366be39c" kindref="member">detectionEnabled</ref>;</highlight></codeline>
<codeline lineno="54"><highlight class="normal">@property<sp/>(nonatomic,<sp/>assign)<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="interface_v_r_view_controller_1a6dabe1fd6bf20a957f30beb7fc83f8b3" kindref="member" tooltip="The markerID of the current marker detect (-1 if or marker is detected).">currentMarkerID</ref>;</highlight></codeline>
<codeline lineno="61"><highlight class="normal">@property<sp/>(nonatomic,<sp/>retain)<sp/>NSDictionary<sp/>*<ref refid="interface_v_r_view_controller_1ae4ce8fb002e7c518a5bb55f102b40452" kindref="member" tooltip="The NSDictionnary loaded from the models.plist file.">models</ref>;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal">-<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)<ref refid="interface_v_r_view_controller_1aefe9aa4b4dbdeb8a9e8309d2134efb3b" kindref="member" tooltip="This methods initialize the capture session.">initCapture</ref>;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal">-<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)<ref refid="interface_v_r_view_controller_1ad1d646c8713f1604151fca152d38c8ba" kindref="member" tooltip="This shows the parameters view.">hideParameters</ref>;</highlight></codeline>
<codeline lineno="81"><highlight class="normal">-<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)<ref refid="interface_v_r_view_controller_1a069293d46ab6e60379ab28b0f8c20913" kindref="member" tooltip="This hides the parameters view.">showParameters</ref>;</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal">@end</highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal">@implementation<sp/><ref refid="interface_v_r_view_controller" kindref="compound" tooltip="This class is the core of the Application.">VRViewController</ref></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal">@synthesize<sp/>wrapper<sp/>=<sp/>_wrapper;</highlight></codeline>
<codeline lineno="89"><highlight class="normal">@synthesize<sp/><ref refid="interface_v_r_view_controller_1a6530562e82c33b2a3db854a8a8d98ebb" kindref="member" tooltip="The view where the 3D object is shown, this view is overlayed over the VRViewController&amp;#39;s...">overlay</ref><sp/>=<sp/>_overlay;</highlight></codeline>
<codeline lineno="90"><highlight class="normal">@synthesize<sp/>parametersViewController<sp/>=<sp/>_parametersViewController;</highlight></codeline>
<codeline lineno="91"><highlight class="normal">@synthesize<sp/>captureSession<sp/>=<sp/>_captureSession;</highlight></codeline>
<codeline lineno="92"><highlight class="normal">@synthesize<sp/>previewLayer<sp/>=<sp/>_previewLayer;</highlight></codeline>
<codeline lineno="93"><highlight class="normal">@synthesize<sp/>detectionEnabled<sp/>=<sp/>_detectionEnabled;</highlight></codeline>
<codeline lineno="94"><highlight class="normal">@synthesize<sp/>currentMarkerID<sp/>=<sp/>_currentMarkerID;</highlight></codeline>
<codeline lineno="95"><highlight class="normal">@synthesize<sp/>models<sp/>=<sp/>_models;</highlight></codeline>
<codeline lineno="96"><highlight class="normal">@synthesize<sp/><ref refid="interface_v_r_view_controller_1aaabf7c54f7a7c69f8221d87cca2e8919" kindref="member">parametersButton</ref><sp/>=<sp/>_parametersButton;</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-</highlight></codeline>
<codeline lineno="100"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>Initialization</highlight></codeline>
<codeline lineno="101"><highlight class="preprocessor"></highlight><highlight class="normal">-<sp/>(void)viewDidLoad<sp/>{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">super</highlight><highlight class="normal"><sp/>viewDidLoad];</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>hide<sp/>the<sp/>parameter<sp/>button<sp/>if<sp/>the<sp/>admin<sp/>mode<sp/>is<sp/>disabled*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!ADMIN_MODE)<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.parametersButton.hidden<sp/>=<sp/>TRUE;</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>initialize<sp/>some<sp/>variables*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.currentMarkerID<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>load<sp/>the<sp/>models<sp/>dictionnarry<sp/>to<sp/>get<sp/>the<sp/>correspondance<sp/>between<sp/>markers<sp/>and<sp/>models*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.models<sp/>=<sp/>[NSDictionary<sp/>dictionaryWithContentsOfFile:[[NSBundle<sp/>mainBundle]<sp/>pathForResource:@&quot;models&quot;<sp/>ofType:@&quot;plist&quot;]];</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>start<sp/>the<sp/>capture*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>initCapture];</highlight></codeline>
<codeline lineno="111"><highlight class="normal">}</highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal">-<sp/>(void)initCapture<sp/>{</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>setup<sp/>the<sp/>input*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AVCaptureDeviceInput<sp/>*captureInput<sp/>=<sp/>[AVCaptureDeviceInput<sp/></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInputWithDevice:[AVCaptureDevice<sp/>defaultDeviceWithMediaType:AVMediaTypeVideo]<sp/></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>error:nil];</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>setupt<sp/>the<sp/>output*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AVCaptureVideoDataOutput<sp/>*captureOutput<sp/>=<sp/>[[AVCaptureVideoDataOutput<sp/>alloc]<sp/>init];<sp/></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>captureOutput.alwaysDiscardsLateVideoFrames<sp/>=<sp/>YES;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*For<sp/>now<sp/>we<sp/>use<sp/>the<sp/>main<sp/>queue,<sp/>it<sp/>might<sp/>be<sp/>better<sp/>to<sp/>use<sp/>a<sp/>separate<sp/>queue<sp/>but<sp/>it<sp/>involves<sp/>some<sp/>work<sp/>as<sp/>drawing<sp/>and<sp/>other</highlight></codeline>
<codeline lineno="122"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>operations<sp/>must<sp/>be<sp/>done<sp/>in<sp/>the<sp/>main<sp/>thread*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dispatch_queue_t<sp/>queue;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>queue<sp/>=<sp/>dispatch_queue_create(</highlight><highlight class="stringliteral">&quot;cameraQueue&quot;</highlight><highlight class="normal">,<sp/>NULL);</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[captureOutput<sp/>setSampleBufferDelegate:self<sp/>queue:dispatch_get_main_queue()];</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dispatch_release(queue);</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*Set<sp/>the<sp/>video<sp/>output<sp/>to<sp/>store<sp/>frame<sp/>in<sp/>BGRA<sp/>(BGRA<sp/>is<sp/>supposed<sp/>to<sp/>be<sp/>more<sp/>performant)*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSString*<sp/>key<sp/>=<sp/>(NSString*)kCVPixelBufferPixelFormatTypeKey;<sp/></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSNumber*<sp/>value<sp/>=<sp/>[NSNumber<sp/>numberWithUnsignedInt:kCVPixelFormatType_32BGRA];<sp/></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSDictionary*<sp/>videoSettings<sp/>=<sp/>[NSDictionary<sp/>dictionaryWithObject:value<sp/>forKey:key];<sp/></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[captureOutput<sp/>setVideoSettings:videoSettings];<sp/></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*And<sp/>we<sp/>create<sp/>a<sp/>capture<sp/>session*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.captureSession<sp/>=<sp/>[[AVCaptureSession<sp/>alloc]<sp/>init];</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>add<sp/>input<sp/>and<sp/>output*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.captureSession<sp/>addInput:captureInput];</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.captureSession<sp/>addOutput:captureOutput];</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>add<sp/>the<sp/>previewLayer*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.previewLayer<sp/>=<sp/>[AVCaptureVideoPreviewLayer<sp/>layerWithSession:<sp/>self.captureSession];</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.previewLayer.frame<sp/>=<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.view.bounds;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.previewLayer.videoGravity<sp/>=<sp/>AVLayerVideoGravityResizeAspectFill;</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.previewLayer.zPosition<sp/>=<sp/>-5;</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.view.layer<sp/>addSublayer:self.previewLayer];</highlight></codeline>
<codeline lineno="143"><highlight class="normal">}</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="145"><highlight class="normal">-<sp/>(void)viewWillAppear:(BOOL)animated<sp/>{</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!</highlight><highlight class="keyword">self</highlight><highlight class="normal">.<ref refid="interface_v_r_view_controller_1a34f830b1267d4174aec7150d366be39c" kindref="member">detectionEnabled</ref>)<sp/>{</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>startDetection];</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="149"><highlight class="normal">}</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-</highlight></codeline>
<codeline lineno="151"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>start<sp/>stop<sp/>detection</highlight></codeline>
<codeline lineno="152"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal">-<sp/>(void)<ref refid="interface_v_r_view_controller_1a13360bdb46d679959801fc8e10ec5903" kindref="member" tooltip="This method start the detection of markers in frames from the camera.">startDetection</ref><sp/>{</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>start<sp/>the<sp/>capture*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.captureSession<sp/>startRunning];</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>allow<sp/>the<sp/>detection*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.detectionEnabled<sp/>=<sp/>TRUE;</highlight></codeline>
<codeline lineno="158"><highlight class="normal">}</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal">-<sp/>(void)<ref refid="interface_v_r_view_controller_1a0d66a76241cc489ebab70df5aa3c7867" kindref="member" tooltip="This method stop the detection of markers in frames from the camera.">stopDetection</ref><sp/>{</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>stop<sp/>the<sp/>capture*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.captureSession<sp/>stopRunning];</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>disable<sp/>the<sp/>detection*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.detectionEnabled<sp/>=<sp/>FALSE;</highlight></codeline>
<codeline lineno="165"><highlight class="normal">}</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-</highlight></codeline>
<codeline lineno="168"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>AVCaptureSession<sp/>delegate</highlight></codeline>
<codeline lineno="169"><highlight class="preprocessor"></highlight><highlight class="normal">-<sp/>(void)captureOutput:(AVCaptureOutput<sp/>*)captureOutput<sp/></highlight></codeline>
<codeline lineno="170"><highlight class="normal">didOutputSampleBuffer:(CMSampleBufferRef)sampleBuffer<sp/></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fromConnection:(AVCaptureConnection<sp/>*)connection<sp/></highlight></codeline>
<codeline lineno="172"><highlight class="normal">{<sp/></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>CVImageBufferRef<sp/>imageBuffer<sp/>=<sp/>CMSampleBufferGetImageBuffer(sampleBuffer);</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.<ref refid="interface_v_r_view_controller_1a34f830b1267d4174aec7150d366be39c" kindref="member">detectionEnabled</ref>)<sp/>{</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!</highlight><highlight class="keyword">self</highlight><highlight class="normal">.<ref refid="interface_v_r_view_controller_1ab6ad8d70a4d463d995c4989f548072a4" kindref="member" tooltip="The ARToolKitPlusWrapper instance the controller pass on video frames for marler...">wrapper</ref>)<sp/>{</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.wrapper<sp/>=<sp/>[[<ref refid="interface_a_r_tool_kit_plus_wrapper" kindref="compound" tooltip="This class is an objective-c wrapper for ARToolKitPlus.">ARToolKitPlusWrapper</ref><sp/>alloc]<sp/>init];</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.wrapper.delegate<sp/>=<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.wrapper<sp/>setupWithImageBuffer:imageBuffer];</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.wrapper<sp/>detectMarkerInImageBuffer:imageBuffer];</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="182"><highlight class="normal">}</highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-</highlight></codeline>
<codeline lineno="185"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>ARToolKitPlusWrapperDelegate</highlight></codeline>
<codeline lineno="186"><highlight class="preprocessor"></highlight><highlight class="normal">-<sp/>(void)aRToolKitPlusWrapper:(<ref refid="interface_a_r_tool_kit_plus_wrapper" kindref="compound" tooltip="This class is an objective-c wrapper for ARToolKitPlus.">ARToolKitPlusWrapper</ref><sp/>*)wrapper<sp/>didSetupWithProjectionMatrix:(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*)projectionMatrix<sp/>{</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.overlay.projectionMatrix<sp/>=<sp/>projectionMatrix;<sp/></highlight></codeline>
<codeline lineno="188"><highlight class="normal">}</highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal">-<sp/>(void)aRToolKitPlusWrapper:(<ref refid="interface_a_r_tool_kit_plus_wrapper" kindref="compound" tooltip="This class is an objective-c wrapper for ARToolKitPlus.">ARToolKitPlusWrapper</ref><sp/>*)wrapper<sp/>didDetectMarker:(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)markerID<sp/>withConfidence:(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">)confidence</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>andComputeModelViewMatrix:(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*)modelViewMatrix<sp/></highlight></codeline>
<codeline lineno="192"><highlight class="normal">{</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>switch<sp/>the<sp/>markersID*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>previousMarkerID<sp/>=<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.currentMarkerID;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.currentMarkerID<sp/>=<sp/>markerID;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*If<sp/>a<sp/>marker<sp/>has<sp/>been<sp/>detected*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(markerID<sp/>!=<sp/>-1)<sp/>{</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*If<sp/>the<sp/>overlay<sp/>is<sp/>not<sp/>displayed<sp/>we<sp/>display<sp/>it*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!</highlight><highlight class="keyword">self</highlight><highlight class="normal">.<ref refid="interface_v_r_view_controller_1a6530562e82c33b2a3db854a8a8d98ebb" kindref="member" tooltip="The view where the 3D object is shown, this view is overlayed over the VRViewController&amp;#39;s...">overlay</ref>.superview)<sp/>{</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.view<sp/>performSelectorOnMainThread:@selector(addSubview:)<sp/>withObject:self.overlay<sp/>waitUntilDone:YES];</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.view<sp/>performSelectorOnMainThread:@selector(sendSubviewToBack:)<sp/>withObject:self.overlay<sp/>waitUntilDone:YES];</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*If<sp/>this<sp/>ID<sp/>is<sp/>different<sp/>from<sp/>the<sp/>previous<sp/>one<sp/>we<sp/>load<sp/>the<sp/>corresponding<sp/>model*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(markerID!=previousMarkerID)<sp/>{</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSString<sp/>*objectFileName<sp/>=<sp/>(NSString<sp/>*)<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.<ref refid="interface_v_r_view_controller_1ae4ce8fb002e7c518a5bb55f102b40452" kindref="member" tooltip="The NSDictionnary loaded from the models.plist file.">models</ref><sp/>objectForKey:[NSString<sp/>stringWithFormat:</highlight><highlight class="stringliteral">@&quot;%d&quot;</highlight><highlight class="normal">,markerID]];</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interface_object3_d" kindref="compound" tooltip="This class is the internal representation of an object you want to display in Virtual...">Object3D</ref><sp/>*</highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>=<sp/>[<ref refid="interface_object3_d" kindref="compound" tooltip="This class is the internal representation of an object you want to display in Virtual...">Object3D</ref><sp/><ref refid="interface_object3_d_1a2ad4104c7968619b5ffce18495b8a02d" kindref="member" tooltip="This method unserialize an object from its xml representation.">object3DFromFileNamed</ref>:objectFileName];</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*If<sp/>parameters<sp/>are<sp/>shown<sp/>we<sp/>change<sp/>its<sp/>display*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.<ref refid="interface_v_r_view_controller_1a37e3cebc3581c8e3ab7d427359fea210" kindref="member" tooltip="The controller responsible of the parameters view.">parametersViewController</ref>)<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>performSelectorOnMainThread:@selector(reloadParameters)<sp/>withObject:nil<sp/>waitUntilDone:NO];</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSLog(</highlight><highlight class="stringliteral">@&quot;%@&quot;</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>description]);</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.overlay<sp/>performSelectorOnMainThread:@selector(loadObject:)<sp/>withObject:object<sp/>waitUntilDone:YES];</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>set<sp/>the<sp/>modelViewMatrix*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.overlay.modelViewMatrix<sp/>=<sp/>modelViewMatrix;</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>tell<sp/>the<sp/>overlay<sp/>to<sp/>redraw*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.overlay<sp/>performSelectorOnMainThread:@selector(drawView)<sp/>withObject:nil<sp/>waitUntilDone:YES];</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*If<sp/>the<sp/>overlay<sp/>is<sp/>displayed<sp/>we<sp/>hide<sp/>it*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.<ref refid="interface_v_r_view_controller_1a6530562e82c33b2a3db854a8a8d98ebb" kindref="member" tooltip="The view where the 3D object is shown, this view is overlayed over the VRViewController&amp;#39;s...">overlay</ref>.superview)<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.overlay<sp/>performSelectorOnMainThread:@selector(removeFromSuperview)<sp/></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>withObject:nil<sp/>waitUntilDone:YES];</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*If<sp/>parameters<sp/>are<sp/>shown<sp/>we<sp/>change<sp/>its<sp/>display*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.<ref refid="interface_v_r_view_controller_1a37e3cebc3581c8e3ab7d427359fea210" kindref="member" tooltip="The controller responsible of the parameters view.">parametersViewController</ref>)<sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>performSelectorOnMainThread:@selector(reloadParameters)<sp/></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>withObject:nil<sp/>waitUntilDone:NO];</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal">}</highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-</highlight></codeline>
<codeline lineno="231"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>parameters</highlight></codeline>
<codeline lineno="232"><highlight class="preprocessor"></highlight><highlight class="normal">-<sp/>(IBAction)showHideParameters:(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">)sender<sp/>{</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>UIButton<sp/>*button<sp/>=<sp/>(UIButton<sp/>*)<sp/>sender;</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">self</highlight><highlight class="normal">.<ref refid="interface_v_r_view_controller_1a37e3cebc3581c8e3ab7d427359fea210" kindref="member" tooltip="The controller responsible of the parameters view.">parametersViewController</ref>)<sp/>{</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>set<sp/>the<sp/>button<sp/>state*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>button.alpha<sp/>=<sp/>0.7;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>hide<sp/>the<sp/>parameters<sp/>view*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>hideParameters];</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>set<sp/>the<sp/>button<sp/>state*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>button.alpha<sp/>=<sp/>1.0;</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>hide<sp/>the<sp/>parameters<sp/>view*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>showParameters];</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="246"><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal">}</highlight></codeline>
<codeline lineno="248"><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal">-<sp/>(void)<sp/><ref refid="interface_v_r_view_controller_1a069293d46ab6e60379ab28b0f8c20913" kindref="member" tooltip="This hides the parameters view.">showParameters</ref><sp/>{</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>create<sp/>the<sp/>object<sp/>and<sp/>display<sp/>its<sp/>view*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.parametersViewController<sp/>=<sp/>[[<ref refid="interface_object3_d_parameters_view_controller" kindref="compound" tooltip="This class is the view controller for the parametersView.">Object3DParametersViewController</ref><sp/>alloc]<sp/>init];</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.parametersViewController<sp/>release];</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.parametersViewController.delegate<sp/>=<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.view<sp/>performSelectorOnMainThread:@selector(addSubview:)<sp/>withObject:self.parametersViewController.view<sp/>waitUntilDone:YES];</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.view<sp/>addSubview:self.parametersViewController.view];</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*We<sp/>load<sp/>the<sp/>current<sp/>object*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.parametersViewController<sp/>loadObject:self.overlay.object<sp/>withMarkerID:self.currentMarkerID];</highlight></codeline>
<codeline lineno="258"><highlight class="normal">}</highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal">-<sp/>(void)<sp/><ref refid="interface_v_r_view_controller_1ad1d646c8713f1604151fca152d38c8ba" kindref="member" tooltip="This shows the parameters view.">hideParameters</ref><sp/>{</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.parametersViewController.view<sp/>removeFromSuperview];</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.parametersViewController<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="263"><highlight class="normal">}</highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal">-<sp/>(void)reloadParameters<sp/>{</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.parametersViewController<sp/>loadObject:self.overlay.object<sp/>withMarkerID:self.currentMarkerID];</highlight></codeline>
<codeline lineno="267"><highlight class="normal">}</highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-</highlight></codeline>
<codeline lineno="270"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>ParametersDelegate</highlight></codeline>
<codeline lineno="271"><highlight class="preprocessor"></highlight><highlight class="normal">-<sp/>(void)object3DParametersViewControllerWillDisplayModalViewController:(<ref refid="interface_object3_d_parameters_view_controller" kindref="compound" tooltip="This class is the view controller for the parametersView.">Object3DParametersViewController</ref>*)controller<sp/>{</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>stopDetection];</highlight></codeline>
<codeline lineno="273"><highlight class="normal">}</highlight></codeline>
<codeline lineno="274"><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal">-<sp/>(void)object3DParametersViewControllerWillDismissModalViewController:(<ref refid="interface_object3_d_parameters_view_controller" kindref="compound" tooltip="This class is the view controller for the parametersView.">Object3DParametersViewController</ref>*)controller<sp/>{</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>startDetection];</highlight></codeline>
<codeline lineno="277"><highlight class="normal">}</highlight></codeline>
<codeline lineno="278"><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-</highlight></codeline>
<codeline lineno="280"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>Animation</highlight></codeline>
<codeline lineno="281"><highlight class="preprocessor"></highlight><highlight class="normal">-<sp/>(IBAction)startStopAnimatingObject:(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">)sender<sp/>{</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>UIButton<sp/>*button<sp/>=<sp/>(UIButton<sp/>*)<sp/>sender;</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(button.selected)<sp/>{</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>button.alpha<sp/>=<sp/>0.7;</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.overlay<sp/>stopAnimating];</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>button.alpha<sp/>=<sp/>1.0;</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.overlay<sp/>startAnimating];</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>button.selected<sp/>=<sp/>!button.selected;</highlight></codeline>
<codeline lineno="292"><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal">}</highlight></codeline>
<codeline lineno="294"><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>-</highlight></codeline>
<codeline lineno="296"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#pragma<sp/>mark<sp/>Memory<sp/>management</highlight></codeline>
<codeline lineno="297"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal">-<sp/>(void)viewWillDisappear:(BOOL)animated<sp/>{</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>stopDetection];</highlight></codeline>
<codeline lineno="300"><highlight class="normal">}</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal">-<sp/>(void)viewDidUnload<sp/>{</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.overlay<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">.previewLayer<sp/>=<sp/>nil;</highlight></codeline>
<codeline lineno="305"><highlight class="normal">}</highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal">-<sp/>(void)dealloc<sp/>{</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.captureSession<sp/>release];</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">self</highlight><highlight class="normal">.parametersViewController<sp/>release];</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/>[</highlight><highlight class="keyword">super</highlight><highlight class="normal"><sp/>dealloc];</highlight></codeline>
<codeline lineno="311"><highlight class="normal">}</highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"></highlight><highlight class="keyword">@end</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/Users/Benjamin/Travail/GFI/VRToolKit/XcodeProject/Classes/VRViewController.m"/>
  </compounddef>
</doxygen>
